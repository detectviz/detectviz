# 架構設計知識庫
並在 `README.md` 寫上索引清單，Cursor 可直接開啟、GPT 幫你回顧/編寫。

- 零散知識建議以「知識卡片」形式記錄，每張卡片一個設計決策
    
- 專案架構與設計模式可整理成章節或群組，定期 review
    
- Cursor 可配合 `.md` 筆記作為即時知識維護工具
    
- 若未來考慮讓 LLM 學習這些，建議標準化目錄與格式

## 架構筆記模板

1. 知識卡片（Knowledge Unit）

每個零碎知識，記錄為如下格式（範例：`event_dispatcher_vs_global_bus.md`）：

```markdown
# Event Dispatcher vs Global Bus

## 題目
為何要用 Dispatcher + Adapter，而不是全域 bus？

## 現象
Grafana 使用 bus.Dispatch，導致模組之間隱性耦合、測試困難

## 解法
建立明確事件類型與 interface
透過注入實作（adapter）來處理事件

## 實作建議
- 定義 EventDispatcher 介面
- 所有模組只依賴介面，不操作全域 bus
- 測試時可 mock Dispatcher

## 類似情境
- plugin 模組之間互相觸發副作用
- 設定變更後觸發資料更新流程

## 延伸
[Mermaid 架構圖 - event system]
```

## 架構上做出設計決策時紀錄 `docs/arch-notes/`




### 2. 每篇筆記格式固定（推薦模板）

```markdown
# [主題名稱]

## 💡 問題
描述你當時遇到的架構設計/實作困難

## ✅ 解法或決策
清楚定義你採用的方式（event dispatcher, plugin interface 等）

## 🔍 延伸閱讀
- [[Grafana架構缺陷]]
- [[Detectviz模組拆分]]

## 📌 實作範例
（程式碼區塊或 mermaid 流程圖）
```


- 建立 `Obsidian Template Vault`（含 tag, query, 設計樣板）
   


你可以建立範本檔 `template/dev-log.md` 內容如下：

```markdown
# 🧠 開發紀錄 {{date}} {{time}}

## ✅ 今日進度
- 

## 🧩 架構問題
- 

## 🔄 待回顧
- 
```



需要的話我可以幫你設計一套：

- `template/daily.md`
    
- `template/thought.md`
    
- `template/decision.md`
    
- `template/code-review.md`
    


```

zettel/  
├── grafana-bus-問題與替代方案.md  
├── event-dispatcher-架構與範例.md  
├── detectviz-vs-grafana-架構差異.md

```

